#:kivy 2.1.0

<MyLayout>
  FloatLayout:
    size: 600, 220

    canvas.before:
      Color:
        rgba: 255/255, 250/255, 250/255, 1
      Rectangle:
        pos: self.pos
        size: self.size
    
    Label:
      color: (0, 0, 0, 1)
      text: "入力"
      font_size: 16
      size_hint: (None, None)
      pos: 15, 162.5
      size: 50, 20
      
    TextInput:
      id: input_path
      multiline: False
      background_color: (169/255, 169/255, 169/255, 0.8)
      font_size: 12.5
      pos: 80, 160
      size_hint: (None, None)
      size: 400,25
      hint_text_color: 0, 0, 0, 0.9
      hint_text: "(複数選択可) 参照ボタンを押してください"
      disabled: True

    PathButton:
      text:"参照"
      font_size: 16
      size_hint: (None, None)
      size: 50, 27
      pos: 510, 160
      color: (0, 1, 1, 1)
      background_color: (175/255, 238/255, 238/255, 1)
      on_press: input_path.text = self.get_path()
      on_press: root.ids.input_path.text = ''

    Label:
      color: (0, 0, 0, 1)
      text: "出力"
      font_size: 16
      size_hint: (None, None)
      size: 50, 20
      pos: 15, 127

    TextInput:
      id: output_path
      multiline: False
      background_color: (169/255, 169/255, 169/255, 1)
      font_size: 12.5
      pos: 80, 127
      size_hint: (None, None)
      size: 400,25
      hint_text: "※未入力の場合exe直下に出力"
      hint_text_color: 0, 0, 0, 0.6

    OutPathButton:
      text:"参照"
      font_size: 16
      size_hint: (None, None)
      size: 50, 27
      pos: 510, 127
      color: (0, 1, 1, 1)
      background_color: (175/255, 238/255, 238/255, 1)
      on_press: output_path.text = self.get_path()

    MySpinner:
      id: item_list
      size_hint: (None, None)
      size: 60, 25
      pos: 20, 92.5
      text: '選択...'
      values: '.png', '.jpeg', '.pdf', '.webp'


    Label:
      text: "ファイル名"
      font_size: 16
      size_hint: (None, None)
      size: 140, 30
      pos: 70, 92.5
      color: (0, 0, 0, 1)

    TextInput:
      id: out_name
      multiline: False
      font_size: 12
      size_hint: (None, None)
      size: 280, 25
      pos: 200, 92.5
      hint_text: "※拡張子不要 (複数ファイル時-不可)"

    Label:
      color: 0, 0, 0, 1
      text: "入力拡張子"
      size_hint: (None, None)
      size: 20, 10
      pos: 205, 50

    Label:
      id: input_ext
      color: 0, 0, 0, 1
      text: '未入力'
      size_hint: None, None
      size: 20, 10
      pos: 280, 50

    Label:
      color: 0, 0, 0, 1
      text: "出力拡張子"
      size_hint: (None, None)
      size: 20, 10
      pos: 205, 22

    Label:
      id: output_ext
      color: 0, 0, 0, 1
      text: '未入力'
      size_hint: None, None
      size: 20, 10
      pos: 280, 22

    Button:
      id: run_botton
      text: '実行'
      font_size: 22
      size_hint: (None, None)
      size: 70, 70
      pos: 500, 10
      disabled: False
      on_press: root.run_button()

    Label:
      id: condition
      text: 'Ready'
      bold: True
      color: 0, 0, 0, 1
      size_hint: (None, None)
      font_size: 20
      size: 70, 70
      pos: 400, 10

# decoration
<Decoration>:
  canvas:
    Color:
      rgba: 0, 0, 0, 0.7
    # 入力
    Line:
      rectangle: (22, 160, 38, 22)
      width: 0.7
    # 出力
    Line:
      rectangle: (22, 125, 38, 22)
      width: 0.7
    # 参照(上)
    Line:
      rectangle: (510, 160.5, 50, 27)
      width: 0.8
    # 参照(下)
    Line:
      rectangle: (510, 127.5, 50, 27)
      width: 0.8
    # 選択
    Line:
      rectangle: (20, 93, 58, 24)
      width: 0.7
    # 横線
    Line:
      points: (40, 195), (535, 195)
      width: 1
    Line:
      points: (40, 87), (535, 87)
      width: 1
    # 縦線
    Line:
      points: (40, 87), (40, 93)
      width: 1
    Line:
      points: (40, 117), (40, 124)
      width: 1
    Line:
      points: (40, 147), (40, 160)
      width: 1
    Line:
      points: (40, 182), (40, 196)
      width: 1
    Line:
      points: (535, 188), (535, 196)
      width: 1
    Line:
      points: (535, 155), (535, 160)
      width: 1
    Line:
      points: (535, 85), (535, 128)
      width: 1

    Line:
      rectangle: 170, 12, 320, 65
    Color:
      rgba: 255/255, 250/255, 250/255, 1
      #rgba: 0, 0, 0, 1
    Rectangle:
      size: 42, 17
      pos: 210, 65

  Label:
    color: 0, 0, 0, 1
    text: "INFO"
    size_hint: None, None
    size: 20, 10
    pos: 220, 72.5


<SpinnerButton>:
  size_hint: (None, None)
  size: 60, 25


<PopupMenu>
  orientation: 'vertical'

  Label:
    text: '出力拡張子を選択してください'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()

<PopupMenu2>
  orientation: 'vertical'

  Label:
    text: '入出力拡張子が同じです'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()

<InputErrorPopupMenu>
  orientation: 'vertical'

  Label:
    text: '入力ファイルに問題があります'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()

<Input_EXT_ErrorPopupMenu>
  orientation: 'vertical'

  Label:
    text: '入力拡張子は対応していません'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()

<PDF_CONVERT_ErrorPopupMenu>
  orientation: 'vertical'

  Label:
    text: 'PDFはPNGのみ出力可能です'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()

<GIF_CONVERT_ErrorPopupMenu>
  orientation: 'vertical'

  Label:
    text: 'GIFはPDFのみ出力可能です'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()