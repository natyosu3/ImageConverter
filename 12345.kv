#:kivy 1.0

<MyLayout>
  FloatLayout:
    size: 600, 200

    canvas.before:
      Color:
        rgba: 255/255, 250/255, 250/255, 1
      Rectangle:
        pos: self.pos
        size: self.size
    
    Label:
      color: (0, 0, 0, 1)
      text: "入力"
      font_size: 16
      size_hint: (None, None)
      pos: 15, 162.5
      size: 50, 20
      
    TextInput:
      id: input_path
      multiline: False
      background_color: (169/255, 169/255, 169/255, 1)
      font_size: 11.5
      pos: 80, 160
      size_hint: (None, None)
      size: 400,25

    PathButton:
      text:"参照"
      font_size: 16
      size_hint: (None, None)
      size: 50, 27
      pos: 510, 160
      color: (0, 1, 1, 1)
      background_color: (175/255, 238/255, 238/255, 1)
      on_press: input_path.text = self.get_path()
      on_press: root.ids.input_path.text = ''

    Label:
      color: (0, 0, 0, 1)
      text: "出力"
      font_size: 16
      size_hint: (None, None)
      size: 50, 20
      pos: 15, 127

    TextInput:
      id: output_path
      multiline: False
      background_color: (169/255, 169/255, 169/255, 1)
      font_size: 11.5
      pos: 80, 127
      size_hint: (None, None)
      size: 400,25

    Label:
      id: init_ms1
      text_size: self.size
      halign: 'left'
      valign: 'middle'
      text: (" ※未選択の場合exe直下に出力")
      font_size: 12
      size_hint: (None, None)
      size: (280, 25)
      pos: 80, 127
      color: (0, 0, 0, 0.8)
      background_color: (0, 1, 0, 0.8)
      on_touch_down: root.on_touch_d(args[1])

    OutPathButton:
      text:"参照"
      font_size: 16
      size_hint: (None, None)
      size: 50, 27
      pos: 510, 127
      color: (0, 1, 1, 1)
      background_color: (175/255, 238/255, 238/255, 1)
      on_press: output_path.text = self.get_path()

    MySpinner:
      id: item_list
      size_hint: (None, None)
      size: 60, 25
      pos: 20, 92.5
      text: '選択...'
      values: '.png', '.jpeg', '.pdf'


    Label:
      text: "ファイル名"
      font_size: 16
      size_hint: (None, None)
      size: 140, 30
      pos: 70, 92.5
      color: (0, 0, 0, 1)

    TextInput:
      id: out_name
      multiline: False
      font_size: 12
      size_hint: (None, None)
      size: 280, 25
      pos: 200, 92.5

    Label:
      id: init_ms
      text_size: self.size
      halign: 'left'
      valign: 'middle'
      text: (" ※拡張子不要 (複数ファイル時-不可)")
      font_size: 12
      size_hint: (None, None)
      size: (280, 25)
      pos: 200, 92.5
      color: (0, 0, 0, 0.8)
      background_color: (0, 1, 0, 0.8)
      on_touch_down: root.on_touch_d(args[1])

    Button:
      text: '実行'
      font_size: 22
      size_hint: (None, None)
      size: 70, 70
      pos: 500, 20
      on_press: root.run_button()


<SpinnerButton>:
  size_hint: (None, None)
  size: 60, 25


<PopupMenu>
  orientation: 'vertical'

  Label:
    text: '出力拡張子を選択してください'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()

<PopupMenu2>
  orientation: 'vertical'

  Label:
    text: '入出力拡張子が同じです'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()

<InputErrorPopupMenu>
  orientation: 'vertical'

  Label:
    text: '入力ファイルに問題があります'
    center: root.center

  BoxLayout:
    Button:
      text: 'Close'
      on_release: root.popup_close()